<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>stalker.models.mixins.DateRangeMixin &mdash; Stalker 0.2.13.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.13.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Stalker 0.2.13.3 documentation" href="../index.html" />
    <link rel="next" title="stalker.models.mixins.ProjectMixin" href="stalker.models.mixins.ProjectMixin.html" />
    <link rel="prev" title="stalker.models.mixins.CodeMixin" href="stalker.models.mixins.CodeMixin.html" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.ProjectMixin.html" title="stalker.models.mixins.ProjectMixin"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.CodeMixin.html" title="stalker.models.mixins.CodeMixin"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stalker 0.2.13.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="stalker-models-mixins-daterangemixin">
<h1>stalker.models.mixins.DateRangeMixin<a class="headerlink" href="#stalker-models-mixins-daterangemixin" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
digraph inheritance9f3975b7fe {
rankdir=LR;
size=&quot;8.0, 12.0&quot;;
  &quot;DateRangeMixin&quot; [style=&quot;setlinewidth(0.5)&quot;,URL=&quot;#stalker.models.mixins.DateRangeMixin&quot;,fontname=&quot;Vera Sans, DejaVu Sans, Liberation Sans, Arial, Helvetica, sans&quot;,height=0.25,shape=box,fontsize=10];
}
</p>
<dl class="class">
<dt id="stalker.models.mixins.DateRangeMixin">
<em class="property">class </em><code class="descclassname">stalker.models.mixins.</code><code class="descname">DateRangeMixin</code><span class="sig-paren">(</span><em>start=None</em>, <em>end=None</em>, <em>duration=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stalker.models.mixins.DateRangeMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Adds date range info to the mixed in class.</p>
<p>Adds date range information like <code class="docutils literal"><span class="pre">start</span></code>, <code class="docutils literal"><span class="pre">end</span></code> and <code class="docutils literal"><span class="pre">duration</span></code>. These
attributes will be used in TaskJuggler. Because <code class="docutils literal"><span class="pre">effort</span></code> is only
meaningful if there are some <code class="docutils literal"><span class="pre">resources</span></code> this attribute has been left
special for <a class="reference internal" href="stalker.models.task.Task.html#stalker.models.task.Task" title="stalker.models.task.Task"><code class="xref py py-class docutils literal"><span class="pre">Task</span></code></a> class. The <code class="docutils literal"><span class="pre">length</span></code> has not been implemented
because of its rare use.</p>
<p>The preceding order for the attributes is as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">start</span> <span class="o">&gt;</span> <span class="n">end</span> <span class="o">&gt;</span> <span class="n">duration</span>
</pre></div>
</div>
<p>So if all of the parameters are given only the <code class="docutils literal"><span class="pre">start</span></code> and the <code class="docutils literal"><span class="pre">end</span></code>
will be used and the <code class="docutils literal"><span class="pre">duration</span></code> will be calculated accordingly. In any
other conditions the missing parameter will be calculated from the
following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="8%" />
<col width="16%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">start</th>
<th class="head">end</th>
<th class="head">duration</th>
<th class="head">DEFAULTS</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><p class="first">start = datetime.datetime.now()</p>
<p>duration = datetime.timedelta(days=10)</p>
<p class="last">end = start + duration</p>
</td>
</tr>
<tr class="row-odd"><td>X</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td><p class="first">duration = datetime.timedelta(days=10)</p>
<p class="last">end = start + duration</p>
</td>
</tr>
<tr class="row-even"><td>X</td>
<td>X</td>
<td>&nbsp;</td>
<td>duration = end - start</td>
</tr>
<tr class="row-odd"><td>X</td>
<td>&nbsp;</td>
<td>X</td>
<td>end = start + duration</td>
</tr>
<tr class="row-even"><td>X</td>
<td>X</td>
<td>X</td>
<td>duration = end - start</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>X</td>
<td>X</td>
<td>start = end - duration</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>X</td>
<td>&nbsp;</td>
<td><p class="first">duration = datetime.timedelta(days=10)</p>
<p class="last">start = end - duration</p>
</td>
</tr>
<tr class="row-odd"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>X</td>
<td><p class="first">start = datetime.datetime.now()</p>
<p class="last">end = start + duration</p>
</td>
</tr>
</tbody>
</table>
<p>Only the <code class="docutils literal"><span class="pre">start</span></code>, <code class="docutils literal"><span class="pre">end</span></code> will be stored. The <code class="docutils literal"><span class="pre">duration</span></code> attribute is
the direct difference of the the <code class="docutils literal"><span class="pre">start</span></code> and <code class="docutils literal"><span class="pre">end</span></code> attributes, so there
is no need to store it. But if will be used in calculation of the start and
end values.</p>
<p>The start and end attributes have a <code class="docutils literal"><span class="pre">computed</span></code> companion. Which are the
return values from TaskJuggler. so for start there is the
<code class="docutils literal"><span class="pre">computed_start</span></code> and for end there is the <code class="docutils literal"><span class="pre">computed_end</span></code> attributes.
These values are going to be used in Gantt Charts.</p>
<p>The date attributes can be managed with timezones. Follow the Python idioms
shown in the <a class="reference external" href="http://docs.python.org/library/datetime.html">documentation of datetime</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> (<a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code></a>) &#8211; the start date of the entity, should be a datetime.datetime
instance, the start is the pin point for the date calculation. In
any condition if the start is available then the value will be
preserved. If start passes the end the end is also changed
to a date to keep the timedelta between dates. The default value is
datetime.datetime.now()</li>
<li><strong>end</strong> (<a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></code></a> or <a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.timedelta" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code></a>) &#8211; the end of the entity, should be a datetime.datetime instance,
when the start is changed to a date passing the end, then the end is also
changed to a later date so the timedelta between the dates is kept.</li>
<li><strong>duration</strong> (<a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.timedelta" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code></a>) &#8211; The duration of the entity. It is a
<a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.timedelta" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></code></a> instance. The default value is read from
the <code class="xref py py-class docutils literal"><span class="pre">Config</span></code> class. See the table above for the initialization
rules.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stalker.models.mixins.DateRangeMixin.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>start=None</em>, <em>end=None</em>, <em>duration=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stalker.models.mixins.DateRangeMixin.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.mixins.DateRangeMixin.__init__" title="stalker.models.mixins.DateRangeMixin.__init__"><code class="xref py py-obj docutils literal"><span class="pre">__init__</span></code></a>([start,&nbsp;end,&nbsp;duration])</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stalker.models.mixins.DateRangeMixin.round_time" title="stalker.models.mixins.DateRangeMixin.round_time"><code class="xref py py-obj docutils literal"><span class="pre">round_time</span></code></a>(dt)</td>
<td>Round the given datetime object to the defaults.timing_resolution.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.mixins.DateRangeMixin.computed_duration" title="stalker.models.mixins.DateRangeMixin.computed_duration"><code class="xref py py-obj docutils literal"><span class="pre">computed_duration</span></code></a></td>
<td>returns the computed_duration as the difference of computed_start</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#stalker.models.mixins.DateRangeMixin.computed_total_seconds" title="stalker.models.mixins.DateRangeMixin.computed_total_seconds"><code class="xref py py-obj docutils literal"><span class="pre">computed_total_seconds</span></code></a></td>
<td>returns the duration as seconds</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#stalker.models.mixins.DateRangeMixin.total_seconds" title="stalker.models.mixins.DateRangeMixin.total_seconds"><code class="xref py py-obj docutils literal"><span class="pre">total_seconds</span></code></a></td>
<td>returns the duration as seconds</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="stalker.models.mixins.DateRangeMixin.computed_duration">
<code class="descname">computed_duration</code><a class="headerlink" href="#stalker.models.mixins.DateRangeMixin.computed_duration" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the computed_duration as the difference of computed_start
and computed_end if there are computed_start and computed_end otherwise
returns None</p>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.mixins.DateRangeMixin.computed_total_seconds">
<code class="descname">computed_total_seconds</code><a class="headerlink" href="#stalker.models.mixins.DateRangeMixin.computed_total_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the duration as seconds</p>
</dd></dl>

<dl class="classmethod">
<dt id="stalker.models.mixins.DateRangeMixin.round_time">
<em class="property">classmethod </em><code class="descname">round_time</code><span class="sig-paren">(</span><em>dt</em><span class="sig-paren">)</span><a class="headerlink" href="#stalker.models.mixins.DateRangeMixin.round_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Round the given datetime object to the defaults.timing_resolution.</p>
<p>Uses <code class="xref py py-class docutils literal"><span class="pre">stalker.defaults.timing_resolution</span></code> as the closest number
of seconds to round to.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dt</strong> (<a class="reference external" href="http://docs.python.org/library/datetime.html#datetime.datetime" title="(in Python v2.7)"><em>datetime.datetime</em></a>) &#8211; datetime.datetime object, defaults to now.</td>
</tr>
</tbody>
</table>
<p>Based on Thierry Husson&#8217;s answer in <a class="reference internal" href="#stackoverflow">Stackoverflow</a></p>
<p><span class="target" id="stackoverflow">Stackoverflow</span> : <a class="reference external" href="http://stackoverflow.com/a/10854034/1431079">http://stackoverflow.com/a/10854034/1431079</a></p>
</dd></dl>

<dl class="attribute">
<dt id="stalker.models.mixins.DateRangeMixin.total_seconds">
<code class="descname">total_seconds</code><a class="headerlink" href="#stalker.models.mixins.DateRangeMixin.total_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the duration as seconds</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="stalker.models.mixins.CodeMixin.html"
                        title="previous chapter">stalker.models.mixins.CodeMixin</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="stalker.models.mixins.ProjectMixin.html"
                        title="next chapter">stalker.models.mixins.ProjectMixin</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.ProjectMixin.html" title="stalker.models.mixins.ProjectMixin"
             >next</a> |</li>
        <li class="right" >
          <a href="stalker.models.mixins.CodeMixin.html" title="stalker.models.mixins.CodeMixin"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Stalker 0.2.13.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2009-2014, Stalker authors and contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>